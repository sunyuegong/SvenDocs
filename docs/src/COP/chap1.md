# 第一章 计算机系统概论
概括介绍整个计算机系统的组成和工作原理。

## 1.1 计算机系统简介
### 1.1.1 计算机的软硬件概念
计算机由`软件`和`硬件`两部分组成。

**硬件**：是指计算机的实体部分，它由看得见摸得着的电子元器件构成。如主机、键盘、鼠标、显示器等等。

**软件**：它看不见摸不着，由人们事先编制的具有各类功能的程序组成。通常存放在计算机的存储器中。如操作系统、各种应用软件、工具软件等。

>计算机性能的好坏取决于“软”“硬件”功能的总和。

    1.1什么是计算机系统、计算机硬件和计算机软件?硬件和软件哪个更重要?
    答：
        计算机系统:由计算机硬件系统和软件系统组成的综合体。
        计算机硬件:指计算机中的电子线路和物理装置。
        计算机软件:计算机运行所需的程序及相关资料。
        硬件和软件在计算机系统中相互依存，缺一不可，因此同样重要。

### 1.1.2 计算机系统的层次结构
当代计算机在运行一段代码或者应用程序时，会经历以下几个层次的处理：
>本课程只讨论最底层的两部分， 机器语言机器和微指令系统。

![alt text](./img/1-1.png)

    1.2 如何理解计算机系统的层次结构?
        答：
        从计算机系统的层次结构来看,它通常可有五个以上的不同级组成,每一个上都能进行程序设计。
        由下至上可排序为:
        第一级微程序机器级,微指令由硬件直接执行;
        第二级传统机器级,用微程序解释机器指令;
        第三级操作系统级,一般用机器语言程序解释作业控制语句;
        第四级汇编语言机器级,这一级由汇编程序支持合执行;
        第五级高级语言机器级,采用高级语言,由各种高级语言编译程序支持合执行,
        还可以有第六级应用语言机器级,采用各种面向问题的应用语言。

    1.3 说明高级语言、汇编语言和机器语言的差别及其联系。
        答：
        机器语言是计算机硬件能够直接识别的语言，汇编语言是机器语言的符号表示，高级语言是面向算
        法的语言。高级语言编写的程序（源程序）处于最高层，必须翻译成汇编语言，再由汇编程序汇编
        成机器语言（目标程序）之后才能被执行。

    1.4 如何理解计算机组成和计算机体系结构?
        答：
        计算机组成是指如何实现计算机体系结构所体现的属性,它包含了许多对程序员来说是透明的硬件
        细节。
        计算机体系结构是指那些能够被程序员所见到的计算机系统的属性,即概念性的结构与功能特性,
        通常是指用机器语言编程的程序员所看到的传统机器的属性,包括指令集、数据类型、存储器寻
        址技术、I/O机理等等,大都属于抽象的属性。


## 1.2 计算机的基本组成
### 1.2.1 冯·诺依曼结构与现代计算机结构
1945年，美国数学家冯·诺依曼（von Neumann）提出了一种基于**存储程序**概念的计算机结构，被称为**冯·诺依曼结构**。

这个结构的奠定了现代计算机的基础。

![冯诺依曼结构](./img/1-2.png) 

图中各部件的功能如下：
1. **运算器**用来完成算术运算和逻辑运算，并将运算的中间结果暂存在运算器内。
2. **存储器**用来存放数据和程序。
3. **控制器**用来控制、指挥程序和数据的输入、运行以及处理运算结果。
4. **输入设备**用来将人们熟悉的信息形式转换为机器能识别的信息形式，常见的有键盘、鼠标等。
5. **输出设备**可将机器运算结果转换为人们熟悉的信息形式，如打印机输出、显示器输出等。

⭐冯·诺依曼结构的主要特点包括：
1. 计算机由**运算器、存储器、控制器、输入设备和输出设备**五大部件组成。
2. 指令和数据以同等地位存放在存储器内，并可按地址寻访。
3. 指令和数据均用二进制数表示。
4. **指令由操作码和地址码组成**，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置。
5. **指令在存储器内按顺序存放**。通常，指令是顺序执行的，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序。
6. **机器以运算器为中心**，输入输出设备与存储器间的数据传送通过运算器完成。

>随着技术发展，现代的计算机已转化为以存储器为中心，而不是以运算器为中心。

现代计算机的运算器和控制器在逻辑关系和电路结构上联系十分紧密，尤其在大规模集成电路制作工艺出现后，这两大部件往往集成在同一芯片上，也就是**中央处理器**（**CPU**）。
输入设备与输出设备简称为 **I/0** 设备

因此，现代计算机的结构可以总结为3部分：
1. **CPU**
2. **内存（或称主存储器）**
3. **I/O设备**

![alt text](./img/1-3.png)

运算器和控制器名称也有不同的叫法：
1. 算术逻辑单元(Arithmetic Logic Unit, ALU) 简称算逻部件，用来完成算术逻辑运算。
2. 控制单元(Control Unit, CU) 用来解释存储器中的指令，并发出各种操作命令来执行指令。

## 1.3 计算机硬件的主要技术指标
### 1.3.1机器字长  
机器字长:指CPU一次能处理的数据的位数。通常与CPU的寄存器的位数有关，字长越长，数的表示范围越大，精度也越高。机器字长也会影响计算机的运算速度。  
数据通路宽度:数据总线一次能并行传送的数据位数。

### 1.3.2 存储容量
存储容量是指能存储信息的最大容量，通常以字节来衡量。一般包含主存容量和辅存容量。  
通常用字节（Byte）为单位来表示。  
1字节（Byte）= 8位（bit）  
1位有0和1两种状态，那16位就是：$2^{16}$ ，即65536个状态。  
现代计算机中常以字节Byte数来描述容量的大小，因一个字节已被定义为8位二进制代码，故用字节数便能反映主存容量。

假设，存储容量为 2M bit，即2 * $2^{20}$ bit（1K=1024=$2^{10}$，1M=1024K=$2^{20}$）。
若将其转换为Byte，即：2 * $2^{20}/8=2^{18}$，记作 $2^{8}$ KB、 128 KB 。

### 1.3.3 运算速度
运算速度:通常用MIPS(每秒百万条指令)MFLOPS(每秒百万次浮点运算)或CPI(执行一条指令所需的时钟周期数)来衡量。CPU执行时间是指CPU对特定程序的执行时间。  
主频:机器内部主时钟的运行频率，是衡量机器速度的重要参数。  
吞吐量:指流入、处理和流出系统的信息速率。它主要取决于主存的存取周期。  
响应时间:计算机系统对特定事件的响应时间，如实时响应外部中断的时间等。  

## 1.4 习题
1.7 解释概念:主机、CPU、主存、存储单元、存储元件、存储基元、存储元、存储字、存储字长、存储容量、机器字长、指令字长。  
答：  
主机:是计算机硬件的主体部分，由CPU和主存储器MM合成为主机。    
CPU:中央处理器，是计算机硬件的核心部件，由运算器和控制器组成;(早期的运算器和控制器不在同一芯片上，现在的CPU内除含有运算器和控制器外还集成了 CACHE)。    
主存:计算机中存放正在运行的程序和数据的存储器，为计算机的主要工作存储器，可随机存取;由存储体、各种逻辑部件及控制电路组成。    
存储单元:可存放一个机器字并具有特定存储地址的存储单位。    
存储元件:存储一位二进制信息的物理元件，是存储器中最小的存储单位，又叫存储基元或存储元，不能单独存取。    
存储字:一个存储单元所存二进制代码的逻辑单位。存储字长:一个存储单元所存二进制代码的位数。    
存储容量:存储器中可存二进制代码的总量;(通常主、辅存容量分开描述)。    
机器字长:指CPU一次能处理的二进制数据的位数，通常与CPU的寄存器位数有关。    
指令字长:一条指令的二进制代码位数。  

1.8解释英文代号:CPU、PC、IR、CU、ALU、ACC、MQ、X、MAR、MDR、I/O、MIPS、CPI、FLOPS。  
答：  
CPU:Central Processing Unit，中央处理机(器)，是计算机硬件的核心部件，主要由运算器和控制器组成。  
PC:Program Counter，程序计数器，其功能是存放当前欲执行指令的地址，并可自动计数形成下一条指令地址。  
IR:InstructionRegister，指令寄存器，其功能是存放当前正在执行的指令。  
CU:Control Unit，控制单元(部件)，为控制器的核心部件，其功能是产生微操作命令序列。  
ALU:Arithmetic Loqic Unit，算术逻辑运算单元，为运算器的核心部件，其功能是进行算术、逻辑运算。  
ACC:Accumulator，累加器，是运算器中既能存放运算前的操作数，又能存放运算结果的寄存器  
MQ:Multiplier-Quotient Reqister，乘商寄存器，乘法运算时存放乘数、除法时存放商的寄存器。  
X:此字母没有专指的缩写含义，可以用作任一部件名，在此表示操作数寄存器，即运算器中工作寄存器之一，用来存放操作数;  
MAR:Memorv Address Reaister，存储器地址寄存器，在主存中用来存放欲访问的存储单元的地址。  
MDR:Memory Data Reqister，存储器数据缓冲寄存器，在主存中用来存放从某单元读出、或要写入某存储单元的数据。  
I/O:Input/Output equipment，输入/输出设备，为输入设备和输出设备的总称，用于计算机内部和外界信息的转换与传送。  
MIPS:Million Instruction Per Second，每秒执行百万条指令数，为计算机运算速度指标的一种计量单位。  
CPI和FLOPS通常用来衡量运算速度。  

1.11指令和数据都存于存储器中,计算机如何区分它们?  
解:计算机区分指令和数据有以下2种方法    
通过不同的时间段来区分指令和数据，即在取指令阶段(或取指微程序)取出的为指令，在执行指令阶段(或相应微程序)取出的即为数据。  
通过地址来源区分，由PC提供存储单元地址的取出的是指令，由指令地址码部分提供存储单元地址的取出的是操作数。  


